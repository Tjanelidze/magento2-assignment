<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * This file is part of the Klarna Onsitemessaging module
  *
  * (c) Klarna Bank AB (publ)
  *
  * For the full copyright and license information, please view the NOTICE
  * and LICENSE files that were distributed with this source code.
  */
-->
<!--
 /**
  * The goal of this suite is to run the tests on multiple markets (DE, US, ...)
  */
-->
<suites xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:mftf:Suite/etc/suiteSchema.xsd">
    <suite name="KlarnaOnsitemessagingUS_Commerce">
        <before>
            <actionGroup ref="AdminLoginActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="ConfigureOnsitemessaging" stepKey="kpConfigureCredentials">
                <argument name="api_version" value="kp_na"/>
                <argument name="merchant_id" value="{{_CREDS.klarna/klarna_us_merchant_id}}"/>
                <argument name="shared_secret" value="{{_CREDS.klarna/klarna_us_shared_secret}}"/>
                <argument name="data_id" value="{{_CREDS.klarna/klarna_us_data_id}}"/>
            </actionGroup>
            <actionGroup ref="DisableKlarnaPayment" stepKey="disableKlarnaPayment"/>
            <actionGroup ref="AdminLogoutActionGroup" stepKey="signOutFromAdmin"/>
        </before>
        <after>
            <actionGroup ref="AdminLoginActionGroup" stepKey="loginAsAdmin"/>
            <actionGroup ref="DisableKlarnaOnsitemessaging" stepKey="disableKlarnaOnsitemessaging"/>
            <actionGroup ref="AdminLogoutActionGroup" stepKey="signOutFromAdmin"/>
        </after>
        <include>
            <group name="Klarna_Onsitemessaging_Country_US"/>
        </include>
    </suite>
</suites>
